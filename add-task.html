<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Add Task</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+Bengali:wght@400;500;700&family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms"></script>
    <script>
      tailwind.config = { darkMode: "class", theme: { extend: { colors: { "primary": "#137fec", "background-dark": "#101922" }, fontFamily: { "display": ["Inter", "Noto Sans Bengali", "sans-serif"] } } } }
    </script>
    <script>
        if (localStorage.getItem('tm_theme') === 'dark') {
            document.documentElement.classList.add('dark');
        }
    </script>
</head>
<body class="bg-[#f6f7f8] dark:bg-background-dark text-[#111418] dark:text-white font-display h-screen flex flex-col">

<header class="flex items-center justify-between px-6 py-4 border-b border-[#e5e7eb] dark:border-[#283039] bg-white dark:bg-[#101922]">
    <div class="flex items-center gap-4">
        <a href="index.html" class="text-[#111418] dark:text-white hover:text-primary">
            <span class="material-symbols-outlined">arrow_back</span>
        </a>
        <h2 class="text-lg font-bold">নতুন কাজ</h2>
    </div>
</header>

<div class="flex-1 p-6 flex justify-center">
    <div class="w-full max-w-2xl flex flex-col gap-6">
        <div class="bg-white dark:bg-[#1c252e] rounded-xl border border-[#e5e7eb] dark:border-[#283039] p-6 shadow-sm flex flex-col gap-6">
            
            <div class="flex flex-col gap-2">
                <label class="font-medium">শিরোনাম</label>
                <input id="taskTitle" class="w-full rounded-lg bg-transparent border border-gray-300 dark:border-gray-600 p-3 text-[#111418] dark:text-white focus:ring-2 focus:ring-primary" placeholder="কী কাজ করতে হবে?" type="text"/>
            </div>

            <div class="flex flex-col gap-2">
                <label class="font-medium">বিবরণ</label>
                <input id="taskDesc" class="w-full rounded-lg bg-transparent border border-gray-300 dark:border-gray-600 p-3 text-[#111418] dark:text-white focus:ring-2 focus:ring-primary" placeholder="বিভাগ (যেমন: অফিস)" type="text"/>
            </div>

            <div class="flex flex-col gap-2">
                <label class="font-medium">গুরুত্ব</label>
                <select id="taskPriority" class="w-full rounded-lg bg-white dark:bg-[#101922] border border-gray-300 dark:border-gray-600 p-3 text-[#111418] dark:text-white">
                    <option value="কম">কম (Low)</option>
                    <option value="মাঝারি" selected>মাঝারি (Medium)</option>
                    <option value="উচ্চ">উচ্চ (High)</option>
                </select>
            </div>

            <div class="flex gap-4 mt-4">
                <a href="index.html" class="flex-1 py-3 text-center rounded-lg border border-gray-600 hover:bg-gray-800 font-bold">বাতিল</a>
                <button onclick="saveTask()" class="flex-1 py-3 text-center rounded-lg bg-primary text-white font-bold hover:bg-blue-600 shadow-lg">সংরক্ষণ করুন</button>
            </div>
        </div>
    </div>
</div>

<script>
    function saveTask() {
        const title = document.getElementById('taskTitle').value;
        const desc = document.getElementById('taskDesc').value;
        const priority = document.getElementById('taskPriority').value;

        if(!title) {
            alert("দয়া করে কাজের শিরোনাম দিন!");
            return;
        }

        const newTask = {
            title: title,
            desc: desc,
            priority: priority,
            done: false,
            date: new Date().toISOString()
        };

        const tasks = JSON.parse(localStorage.getItem('tm_tasks')) || [];
        tasks.push(newTask);
        localStorage.setItem('tm_tasks', JSON.stringify(tasks));

        window.location.href = 'index.html';
    }
</script>

</body>
</html>